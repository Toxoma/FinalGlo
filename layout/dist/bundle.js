(()=>{"use strict";function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const r=function(e){var t=document.querySelector(".popup-dialog-menu"),r=document.querySelector(".close-menu"),n=document.querySelector(".popup-repair-types"),o=document.querySelector(".popup-repair-types > .close"),i=document.querySelector(".popup-privacy"),c=i.querySelector(".close");e!==t&&r.click(),e!==n&&o.click(),e!==i&&c.click()};function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const i=function(e){var t=new FormData(e),r=[];t.forEach((function(e,t){r[t]=e})),function(e,t){console.log(JSON.stringify(e)),fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(200!==e.status)throw new Error("status network not 200")})).then((function(){!function(){var e=document.querySelector(".popup-thank");e.style.visibility="visible";var t=function t(r){r.target.closest(".popup-thank-bg")&&!r.target.closest(".close")||(e.style.visibility="hidden",document.removeEventListener("click",t))};setTimeout((function(){document.addEventListener("click",t)}),100)}(),function(e){var t=e.querySelectorAll("input"),r=e.querySelector(".checkbox__label");t.forEach((function(e){e.value="",e.classList.remove("success")})),r.click()}(t)})).catch((function(e){console.error(e)}))}(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r),e)};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var u,s,d,p,f,y,m,v,h;(function(){var e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-wrap"),r=document.querySelector(".header-contacts__messagers"),n=document.querySelector(".header-contacts__phone-number-accord>a");t.style.opacity=0,n.style.opacity=1;var o=n.cloneNode(!0);o.textContent="+7 (987) 654-32-80",o.classList.add("hide-block"),r.insertAdjacentElement("beforebegin",o),e.addEventListener("click",(function(t){o.classList.toggle("hide-block"),e.classList.toggle("rotate-block")}))})(),function(){var e=document.querySelector(".menu__icon"),t=document.querySelector(".footer").querySelector(".menu"),r=t.querySelector(".menu__icon"),n=document.querySelector(".popup-dialog-menu"),o=document.querySelector(".close-menu"),i=[r,e];t.style.display="block";var c=function e(t){var r=t.target;r.closest(".popup-dialog-menu")&&r!==o||(document.removeEventListener("click",e),o.click())},l=function(){n.style.transition="1s",n.style.transform="translateX(0px)",setTimeout((function(){document.addEventListener("click",c)}),100)};i.forEach((function(e){return e.addEventListener("click",l)})),o.addEventListener("click",(function(){var e="X",t="100%";window.outerWidth<576&&(e="Y",t="-100%"),n.style.transform="translate".concat(e,"(").concat(t,")")})),window.addEventListener("resize",(function(){n.style.transition="0s",window.outerWidth<576?n.style.transform="translate3d(0,-100%,0)":n.style.transform="translate3d(100%,0,0)"}))}(),v=document.querySelectorAll(".popup-menu-nav__item > .menu-link"),h=document.querySelectorAll(".button-footer>a"),[].concat(e(v),e(h)).forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var r=e.getAttribute("href").substr(1);document.getElementById("".concat(r)).scrollIntoView({behavior:"smooth",block:"start"}),document.querySelector(".close-menu").click()}))})),function(){var e=document.querySelectorAll(".link-list"),t=document.querySelector(".popup-repair-types"),n=function e(r){r.target.closest(".popup-dialog-repair-types")&&!r.target.closest(".close")||(t.style.visibility="hidden",document.removeEventListener("click",e))};e.forEach((function(e){return e.addEventListener("click",(function(){setTimeout((function(){document.addEventListener("click",n)}),100),fetch("http://localhost:3000/api/items",{method:"GET"}).then((function(e){if(200!==e.status)throw new Error("status network not 200");return e.json()})).then((function(e){!function(e){var r=t.querySelectorAll(".button_o"),n=t.querySelectorAll(".popup-repair-types-content-table > table > tbody"),o=document.getElementById("nav-arrow-popup-repair_right"),i=document.getElementById("nav-arrow-popup-repair_left"),c=t.querySelector(".nav-list-popup-repair"),l=0,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.length-1,n=e;return n<0&&(n=t),n>t&&(n=0),n},u=function(){c.style.transform="translateX(".concat(-100*l,"%)")};o.addEventListener("click",(function(){l=a(++l),u()})),i.addEventListener("click",(function(){l=a(--l),u()}));for(var s=[],d=0;d<r.length;d++)s.push({type:r[d],table:n[d]});r.forEach((function(e){return e.addEventListener("click",(function(){var t;t=e,r.forEach((function(e,r){e!==t?(e.classList.remove("active"),n[r].parentElement.classList.add("hide")):(e.classList.add("active"),n[r].parentElement.classList.remove("hide"))}))}))})),s.forEach((function(t){var r=e.filter((function(e){return e.type===t.type.textContent}));t.table.textContent="",r.forEach((function(e){t.table.insertAdjacentHTML("beforeend",'\n          <tr class="mobile-row">\n            <td class="repair-types-name">'.concat(e.name,'</td>\n            <td class="mobile-col-title tablet-hide desktop-hide">Ед.измерения</td>\n            <td class="mobile-col-title tablet-hide desktop-hide">Цена за ед.</td>\n            <td class="repair-types-value">').concat(e.units,'<sup></sup></td>\n            <td class="repair-types-value">').concat(e.cost," руб.</td>\n          </tr>\n          "))}))}))}(e)})).then((function(){t.style.visibility="visible",r(t)})).catch((function(e){console.error(e)}))}))}));var o=document.createElement("style");o.textContent="\n  .nav-list-popup-repair{\n    min-width: auto;\n    flex-wrap: nowrap;\n  }\n  .popup-repair-types .nav-list .active{\n    background-color: #66f0f0;\n  }\n  .popup-repair-types-content-table .hide{\n    display: none;\n  }\n  ",document.querySelector("head").insertAdjacentElement("beforeend",o)}(),f=document.querySelectorAll("form"),y=new RegExp(/^\+7\d{3}\d{3}\d{2}\d{2}$/),m=new RegExp(/[^\+\d]/g),f.forEach((function(e){var t=e.querySelector("input[name=phone]"),r=e.querySelector("button"),n=e.querySelector("input[type=checkbox]"),o=new Set;o.add(t),n.required=!0,t.addEventListener("input",(function(e){var n=e.target;n.value=n.value.replace(m,""),y.test(n.value)?(n.classList.add("success"),n.classList.remove("error"),o.delete(t)):(n.classList.add("error"),n.classList.remove("success"),o.add(t)),o.size?(r.disabled=!0,r.style.opacity="0.6"):(r.disabled=!1,r.style.opacity="1")})),e.addEventListener("submit",(function(t){t.preventDefault(),i(e)}))})),function(){var e=document.querySelectorAll(".link-privacy"),t=document.querySelector(".popup-privacy"),n=t.querySelector(".close");e.forEach((function(e){return e.addEventListener("click",(function(){t.style.visibility="visible",r(t)}))})),n.addEventListener("click",(function(){t.style.visibility="hidden"}))}(),function(){var e=document.querySelector("#formula"),t=e.querySelectorAll(".row> .formula-item > .formula-item__icon"),r=e.querySelectorAll(".formula-item > .formula-item__icon");t.forEach((function(e){return e.addEventListener("mouseover",(function(t){var r=e.querySelector(".formula-item-popup");(r.matches(".formula-item-popup-06")||r.matches(".formula-item-popup-02"))&&(r.querySelector(".rotate").style.transform="rotate(180deg)",r.style.transform="translateY(280px) rotate(180deg)"),r.matches(".formula-item-popup-01")&&(r.querySelector(".rotate").style.transform="rotate(180deg)",r.style.transform="translateY(240px) rotate(180deg)"),r.style.transition="opacity 0.5s ease",r.style.visibility="visible",r.style.opacity=1}))})),r.forEach((function(e){return e.addEventListener("mouseout",(function(t){var r=e.querySelector(".formula-item-popup");r.style.visibility="hidden",r.style.opacity=0}))}));var n=e.querySelector(".formula-slider"),o=n.querySelectorAll(".formula-item"),i=n.querySelectorAll(".formula-item__icon"),l=function(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o),a=0,u=Math.floor(100/3);n.textContent="";var s=e.querySelectorAll(".slider-arrow"),d=function(e){var t=e.target;if(t.closest(".active")&&t.closest(".formula-item__icon")){var r=t.closest(".formula-item__icon").querySelector(".formula-item-popup");r.classList.add("active-popup"),r.style.transition="opacity 0.5s ease",r.style.visibility="visible",r.style.opacity=1}},p=function(e){var t=e;return t<0&&(t=5),t>5&&(t=0),t};s.forEach((function(e){return e.addEventListener("click",(function(){l[a].classList.remove("active"),l[a].removeEventListener("mouseover",d),e.matches(".slider-arrow_right")?(n.append(l[p(a-1)]),a=p(++a)):(a=p(a-1),n.prepend(l[p(a-1)])),l[a].classList.add("active"),l[a].addEventListener("mouseover",d)}))}));for(var f=a-1;f<a+5;f++)n.appendChild(l[p(f)]);l[a].classList.add("active"),i.forEach((function(e){return e.addEventListener("mouseover",d)}));var y=document.createElement("style");y.textContent="\n  .formula-slider-wrap{\n    overflow:hidden\n  }\n  .formula-slider{\n    display:flex;\n    align-items: baseline;\n  }\n  .formula-slider .active{\n    opacity: 1;\n  }\n  .formula-slider .active .formula-item__icon .formula-item-popup{\n    transform: translateY(-30px);\n  }\n  .formula-slider .active  .formula-item__icon-inner{\n    background-color: #ff9729de;\n    color: #fff;\n  }\n  .formula-item{\n    flex: 0 0 ".concat(u,"%;\n  }\n  .formula-slider__slide:before{\n    z-index: 0;\n  }\n  "),document.querySelector("head").insertAdjacentElement("beforeend",y)}(),function(){var e=0,t=0,r=0,n=document.querySelector(".repair-types-tab"),o=n.querySelectorAll("button"),i=document.querySelector(".repair-types-slider-wrap"),c=document.querySelector(".repair-types-slider"),a=function(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(document.querySelector(".repair-types-slider").children),u=i.querySelector(".slider-counter-content__total"),s=i.querySelector(".slider-counter-content__current"),d=i.querySelector(".slider-arrow_left"),p=i.querySelector(".slider-arrow_right"),f=n.querySelector(".nav-list-repair"),y=n.querySelector(".nav-arrow_left"),m=n.querySelector(".nav-arrow_right"),v=document.querySelector(".repair-types-nav").clientWidth,h=document.querySelector(".nav-list-repair").clientWidth,b=0,S=0,g=h-v,E=Math.floor(g/5);y.addEventListener("click",(function(){b>0?(b--,S-=E):(b=5,S=g),f.style.transform="translateX(".concat(-S,"px)")})),m.addEventListener("click",(function(){b<5?(b++,S+=E):(b=0,S=0),f.style.transform="translateX(".concat(-S,"px)")}));var q=function(e,t){var r=e;return r<0&&(r=t),r>t&&(r=0),r},_=a[e].querySelectorAll(".repair-types-slider__slide");r=_.length,u.textContent=r;var w=function(t){s.textContent=t+1,a[e].prepend(_[t])};d.addEventListener("click",(function(){t=q(--t,r-1),w(t)})),p.addEventListener("click",(function(){t=q(++t,r-1),w(t)}));for(var L=0;L<o.length;L++)o[L].value=L;o.forEach((function(n){return n.addEventListener("click",(function(){var i;n.classList.add("active"),i=n,o.forEach((function(e){e!==i&&e.classList.remove("active")})),e=n.value,c.prepend(a[e]),_=a[e].querySelectorAll(".repair-types-slider__slide"),r=_.length,u.textContent=r,w(t=0)}))}))}(),s=document.querySelector(".portfolio-slider-wrap"),d=s.querySelector(".portfolio-slider"),p=d.querySelector(".row-slide"),function(){var e=s.querySelector(".slider-arrow_left-portfolio"),t=s.querySelector(".slider-arrow_right-portfolio"),r=s.querySelectorAll(".portfolio-slider__slide"),n=d.clientWidth,o=r[0].clientWidth,i=r.length-n/o,c=0,l=function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=r;return e.style.visibility="visible",t.style.visibility="visible",o<=0&&(e.style.visibility="hidden",o=r++),o>=n&&(t.style.visibility="hidden",o=r--),o};l(c),t.addEventListener("click",(function(){c=l(++c),p.style.transform="translateX(-".concat(o*c,"px)")})),e.addEventListener("click",(function(){c=l(--c),p.style.transform="translateX(-".concat(o*c,"px)")}));var a=document.createElement("style");a.textContent="\n    .row-slide{\n       display: flex;\n       transition: all 1s ease 0s;\n    }\n    ",document.querySelector("head").insertAdjacentElement("beforeend",a)}(),function(){for(var e=document.querySelector(".popup-portfolio"),t=document.querySelector(".popup-dialog-portfolio"),r=e.querySelectorAll(".close "),n=document.querySelectorAll(".popup-portfolio-text"),o=p.querySelectorAll(".portfolio-slider__slide-frame"),i=e.querySelector(".popup-portfolio-slider"),c=i.querySelectorAll(".popup-portfolio-slider__slide"),l=[],a=e.querySelector(".slider-counter-content__current"),u=e.querySelector(".slider-counter-content__total"),d=s.querySelector(".slider-counter-content__total"),f=s.querySelector(".slider-counter-content__current"),y=0;y<o.length;y++)l[y]={slide:o[y],text:n[y],img:c[y]};u.textContent=l.length,d.textContent=l.length;var m,v=function e(t){var n=t.target;n.closest(".popup-dialog-portfolio")&&n!==r||(document.removeEventListener("click",e),r[0].click())},h=0,b=function(){m&&(t.clientWidth<=768?m.text.style.display="none":m.text.style.display="block")};o.forEach((function(t){return t.addEventListener("click",(function(){e.style.visibility="visible",m=l.filter((function(e){return e.slide===t}))[0],i.prepend(m.img),b(),setTimeout((function(){document.addEventListener("click",v)}),100),h=l.findIndex((function(e){return e===m})),a.textContent=h+1,f.textContent=h+1}))})),r.forEach((function(t){return t.addEventListener("click",(function(){e.style.visibility="hidden",m.text.style.display="none"}))})),window.addEventListener("resize",(function(){b()}));var S=e.querySelector(".popup-arrow_left"),g=e.querySelector(".popup-arrow_right"),E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.length-1,r=e;return r<0&&(r=t),r>t&&(r=0),r},q=function(e){i.prepend(l[e].img),a.textContent=e+1,f.textContent=e+1};g.addEventListener("click",(function(){h=E(++h),q(h)})),S.addEventListener("click",(function(){h=E(--h),q(h)}));var _=s.querySelector(".slider-arrow-tablet-mobile_left"),w=s.querySelector(".slider-arrow-tablet-mobile_right"),L=s.querySelector(".portfolio-slider-mobile"),k=function(e){L.prepend(l[e].img),a.textContent=e+1,f.textContent=e+1};w.addEventListener("click",(function(){h=E(++h),k(h)})),_.addEventListener("click",(function(){h=E(--h),k(h)}))}(),function(){var e=document.querySelector(".transparency-slider-wrap").querySelector(".transparency-slider"),t=document.querySelectorAll(".transparency-item>.transparency-item__img"),r=document.getElementById("transparency-arrow_left"),n=document.getElementById("transparency-arrow_right"),o=document.querySelector(".popup-transparency"),i=o.querySelector(".slider-counter-content__current"),c=o.querySelector(".slider-counter-content__total"),l=0;i.textContent=l+1,c.textContent=t.length;var a=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length-1,n=e;return n<0&&(n=r),n>r&&(n=0),i.textContent=n+1,n},u=function(){e.style.transform="translateX(".concat(-100*l,"%)"),console.log(l)};n.addEventListener("click",(function(){l=a(++l),u()})),r.addEventListener("click",(function(){l=a(--l),u()})),function(){var e=document.getElementById("transparency_right"),r=document.getElementById("transparency_left"),n=o.querySelector(".popup-transparency-slider"),i=n.querySelectorAll(".popup-transparency-slider__slide"),c=function(){console.log(l),n.prepend(i[l])};e.addEventListener("click",(function(){l=a(++l),c()})),r.addEventListener("click",(function(){l=a(--l),c()}));var u=function e(t){t.target.closest(".popup-dialog-transparency")&&!t.target.closest(".close")||(o.style.visibility="hidden",document.removeEventListener("click",e),l=0)};t.forEach((function(e,t){return e.addEventListener("click",(function(){o.style.visibility="visible",l=t,c(),setTimeout((function(){document.addEventListener("click",u)}),100)}))}))}();var s=document.createElement("style");s.textContent="\n  .transparency-slider-wrap{\n    overflow:hidden\n  }\n  .transparency-slider-wrap .transparency-slider{\n    display:flex;\n    flex-wrap: nowrap;\n    transition: 1s;\n  }\n  .transparency-item__img:hover{\n    box-shadow: 0px 0px 40px #ff00ff;\n  }\n  .popup-transparency-slider-wrap{\n  }\n  .popup-transparency-slider{\n    display: flex;\n  }\n  .popup-transparency-slider__slide{\n    flex: 0 0 100%;\n  }\n  ",document.querySelector("head").insertAdjacentElement("beforeend",s)}(),function(){var e,t=document.querySelectorAll("button");t=(e=t,function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"проконсультироваться"===e.textContent.toLowerCase()}));var r=document.querySelector(".popup-consultation"),n=function e(t){t.target.closest(".feedback-wrap")&&!t.target.closest(".close")||(r.style.visibility="hidden",document.removeEventListener("click",e))};t.forEach((function(e){return e.addEventListener("click",(function(){r.style.visibility="visible",setTimeout((function(){document.addEventListener("click",n)}),100)}))}))}(),function(){var e=document.getElementById("reviews-arrow_left"),t=document.getElementById("reviews-arrow_right"),r=document.querySelector(".reviews-slider"),n=r.querySelectorAll(".reviews-slider__slide"),o=0,i=function(){r.prepend(n[o])},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.length-1,r=e;return r<0&&(r=t),r>t&&(r=0),r};t.addEventListener("click",(function(){o=c(++o),i()})),e.addEventListener("click",(function(){o=c(--o),i()}))}(),(u=document.querySelector(".accordion").querySelectorAll("li>.title_block")).forEach((function(e){return e.addEventListener("click",(function(){var t;t=e,u.forEach((function(e){e!==t?e.classList.remove("msg-active"):e.classList.toggle("msg-active")}))}))}))})();