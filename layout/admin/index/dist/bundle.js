(()=>{"use strict";var e=function(e){e.querySelectorAll("input").forEach((function(e){e.value="",e.classList.remove("success")}))};const n=function(n){var t=document.getElementById("name"),o=document.getElementById("type"),a=!0,i=function(e){a=!1,e.nextElementSibling.style.display="block"};([t,o].forEach((function(e){"name"===e.name&&"admin"!==t.value&&i(t),"password"===e.name&&"admin1"!==o.value&&i(o)})),a)?function(n,t){console.log(JSON.stringify(n));var o=function(e){localStorage.setItem("token",e)};fetch("../server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(200!==e.status)throw new Error("status network not 200")})).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"пришедший токен";e(t),o(n),window.location.href="table.html"})).catch((function(n){var o;console.error(n),e(t),(o=document.createElement("div")).className="mistake-block",o.insertAdjacentHTML("afterbegin","\n    Ошибка авторизации!!!\n    "),document.body.append(o),setTimeout((function(){o.classList.add("disapeare"),setTimeout((function(){o.remove()}),2e3)}),1e3)}))}({name:t.value,password:o.value},n):e(n);var r=document.createElement("style");r.textContent="\n  .mistake-block{\n    position: fixed;\n    font-size: 30px;\n    color: red;\n    top: 50%;\n    left: 38%;\n    z-index: 999;\n    background-color: black;\n    padding: 20px;\n    border-radius: 20px;\n    border: 4px solid red;\n    transition: 2s;\n  }\n  @media (max-width: 1024px) {\n    .mistake-block {\n      left: 30%;\n    }\n  }\n  @media (max-width: 786px) {\n    .mistake-block {\n      left: 20%;\n    }\n  }\n  .disapeare{\n    opacity: 0;\n  }\n  ",document.querySelector("head").insertAdjacentElement("beforeend",r)};var t;(t=document.querySelector(".main-form > form")).addEventListener("submit",(function(e){e.preventDefault(),n(t)}))})();